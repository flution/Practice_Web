<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로컬스토리지</title>
</head>
<body>
    
    <!-- 브라우저의 웹스토리지 지원 여부 확인 코드 -->
    <button onclick="Available()">웹 스토리지 지원 여부 확인 버튼</button>
    <div id="result"></div>
    <p></p>
    키 : <input type="text" id="key">
    값 : <input type="value" id ="data">
    <p></p>
    <button onclick="saveData()">데이터저장</button>
    <button onclick="loadData()">데이터읽기</button>
    <button onclick="removeData()">항목 삭제</button>
    <button onclick="removeAll()">전체 삭제</button>
    <p></p>
    <div id="result2"></div>

    <script>
        // 페이지 생성시 Storage라는 객체가 자동으로 생성 됨.
        function Available(){
            if(typeof(Storage)!='undefined'){
                document.getElementById('result').innerHTML = "이 브라우저는 웹스토리지를 지원합니다."
            }
            else{
                document.getElementById('result').innerHTML = "이 브라우저는 웹스토리지를 지원하지 않습니다."
            }
        }

        var key = document.getElementById("key");
        var data = document.getElementById("data");

        function saveData(){
            localStorage.setItem(key.value, data.value);
            document.getElementById('result2').innerHTML = '데이터저장완료'
        }
        key.value
        data.value

        function loadData(){
            document.getElementById('result2')
            for(var i = 0; i < localStorage.length; i++){
                var myKey =  localStorage.key(i);
                document.getElementById('result2').innerHTML +=
                myKey + ' : ' + localStorage.getItem(myKey) + '<br>';
            }
        }

        function removeData(){
            localStorage.removeItem(key.value);
            document.getElementById('result2').innerHTML = '항목 삭제완료'
        }
        function removeAll(){
            localStorage.clear();
            document.getElementById('result2').innerHTML = '전체 삭제완료'
        }

    </script>
    
</body>
</html>